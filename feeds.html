<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>All Participants - NSTCG</title>
  <meta name="description"
    content="View all community members who have joined the North Swanage Traffic Safety campaign">

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Community Voices - NSTCG">
  <meta property="og:description" content="Every signature represents a Swanage resident demanding safer streets">
  <meta property="og:url" content="https://nstcg.org/feeds.html">
  <meta property="og:type" content="website">

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">

  <!-- Font Awesome CDN for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <!-- CSS - Direct link to prevent FOUC on mobile -->
  <link rel="stylesheet" href="css/main.css">
  <!-- Additional CSS will be bundled by Vite -->
</head>

<body>
  <!-- Navigation -->
  <div id="navigation-placeholder"></div>

  <main id="main-content" class="feeds-page">
    <!-- Hero Section -->
    <section class="feeds-hero">
      <div class="container">
        <h1 class="hero-title">Community Voices</h1>
        <p class="hero-subtitle">Every signature represents a Swanage resident demanding safer streets</p>

        <!-- Statistics Bar -->
        <div class="stats-bar">
          <div class="stat-item">
            <span class="stat-number" id="total-count">
              <span class="loading-placeholder">--</span>
            </span>
            <span class="stat-label">Total Participants</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="today-count">
              <span class="loading-placeholder">--</span>
            </span>
            <span class="stat-label">Joined Today</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="week-count">
              <span class="loading-placeholder">--</span>
            </span>
            <span class="stat-label">This Week</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Line Graph Section -->
    <section class="signup-trends">
      <div class="container">
        <h2 class="section-title">Campaign Momentum</h2>
        <div class="graph-container">
          <canvas id="signup-chart"></canvas>
          <div class="graph-loading" id="graph-loading">
            <div class="loading-spinner"></div>
            <p>Loading campaign data...</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Hot Topics Section -->
    <section class="hot-topics">
      <div class="container">
        <h2 class="section-title">
          <i class="fas fa-fire"></i>
          Community Hot Topics
        </h2>
        <p class="hot-topics-subtitle">AI analysis of community feedback reveals these top concerns</p>

        <div id="hot-topics-container" class="hot-topics-container">
          <!-- Hot topics will be loaded here -->
        </div>

        <!-- Loading State -->
        <div id="hot-topics-loading" class="hot-topics-loading">
          <div class="loading-spinner"></div>
          <p>Analyzing community concerns...</p>
        </div>

        <!-- Error State -->
        <div id="hot-topics-error" class="hot-topics-error" style="display: none;">
          <i class="fas fa-exclamation-triangle"></i>
          <p>Unable to analyze concerns at this time</p>
          <button class="retry-button" onclick="window.feedsPage.loadHotTopics()">
            <i class="fas fa-redo"></i> Try Again
          </button>
        </div>

        <!-- Empty State -->
        <div id="hot-topics-empty" class="hot-topics-empty" style="display: none;">
          <i class="fas fa-comments"></i>
          <p>No comments available for analysis yet.</p>
          <a href="/#signupForm" class="cta-button">Be the first to share your concerns</a>
        </div>
      </div>
    </section>

    <!-- All Feeds Section -->
    <section class="all-feeds">
      <div class="container">
        <div class="feeds-header">
          <h2 class="section-title">All Participants</h2>
          <p class="feeds-count" id="feeds-count">Showing <span>0</span> community members</p>
        </div>

        <div id="feeds-grid" class="feeds-grid">
          <!-- Participant cards will be loaded here -->
        </div>

        <!-- Loading State -->
        <div id="loading-state" class="loading-state">
          <div class="loading-spinner"></div>
          <p>Loading participants...</p>
        </div>

        <!-- Error State -->
        <div id="error-state" class="error-state" style="display: none;">
          <i class="fas fa-exclamation-circle"></i>
          <p>Unable to load participants</p>
          <button class="retry-button" onclick="window.feedsPage.loadAllParticipants()">
            <i class="fas fa-redo"></i> Try Again
          </button>
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="empty-state" style="display: none;">
          <i class="fas fa-users"></i>
          <p>No participants yet. Be the first to join!</p>
          <a href="/#signupForm" class="cta-button">Join Now</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="feeds-footer">
    <div class="container">
      <p>&copy; 2025 North Swanage Traffic Consultation Group</p>
      <nav class="footer-nav">
        <a href="/">Home</a>
        <a href="/privacy-policy.html">Privacy Policy</a>
        <a href="/terms-and-conditions.html">Terms & Conditions</a>
      </nav>
    </div>
  </footer>

  <!-- Chart.js CDN for line graph -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Vite Entry Point -->
  <script type="module" src="/js/feeds-entry.js"></script>
</body>

</html>